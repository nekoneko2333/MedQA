2025-12-06 15:30:45 - core.chatbot - INFO - 知识推理已启用
2025-12-06 15:35:22 - nlp.answer_search - ERROR - 查询错误: [Statement.SyntaxError] A pattern expression should only be used in order to test the existence of a pattern. It can no longer be used inside the function size(), an alternative is to replace size() with COUNT {}. (line 5, column 53 (offset: 257))
"                    ORDER BY match_count DESC, size((m)-[:has_symptom]->()) ASC"
                                                     ^, 查询语句: 
                    MATCH (m:Disease)-[r:has_symptom]->(n:Symptom)
                    WHERE n.name IN ['头晕', '晕']
                    WITH m, count(n) as match_count, collect(n.name) as matched_symptoms
                    ORDER BY match_count DESC, size((m)-[:has_symptom]->()) ASC
                    LIMIT 8
                    RETURN m.name, matched_symptoms, match_count
                    
2025-12-06 15:43:54 - core.chatbot - INFO - 知识推理已启用
2025-12-06 15:44:26 - nlp.answer_search - ERROR - 查询错误: [Statement.SyntaxError] A pattern expression should only be used in order to test the existence of a pattern. It can no longer be used inside the function size(), an alternative is to replace size() with COUNT {}. (line 5, column 53 (offset: 257))
"                    ORDER BY match_count DESC, size((m)-[:has_symptom]->()) ASC"
                                                     ^, 查询语句: 
                    MATCH (m:Disease)-[r:has_symptom]->(n:Symptom)
                    WHERE n.name IN ['头晕', '晕']
                    WITH m, count(n) as match_count, collect(n.name) as matched_symptoms
                    ORDER BY match_count DESC, size((m)-[:has_symptom]->()) ASC
                    LIMIT 8
                    RETURN m.name, matched_symptoms, match_count
                    
2025-12-06 15:46:02 - core.chatbot - INFO - 知识推理已启用
2025-12-06 15:46:32 - nlp.answer_search - ERROR - 查询错误: [Statement.SyntaxError] A pattern expression should only be used in order to test the existence of a pattern. It can no longer be used inside the function size(), an alternative is to replace size() with COUNT {}. (line 5, column 53 (offset: 257))
"                    ORDER BY match_count DESC, size((m)-[:has_symptom]->()) ASC"
                                                     ^, 查询语句: 
                    MATCH (m:Disease)-[r:has_symptom]->(n:Symptom)
                    WHERE n.name IN ['头晕', '晕']
                    WITH m, count(n) as match_count, collect(n.name) as matched_symptoms
                    ORDER BY match_count DESC, size((m)-[:has_symptom]->()) ASC
                    LIMIT 8
                    RETURN m.name, matched_symptoms, match_count
                    
2025-12-06 15:53:34 - core.chatbot - INFO - 知识推理已启用
2025-12-06 16:01:45 - core.chatbot - INFO - 知识推理已启用
2025-12-06 16:02:56 - core.chatbot - INFO - 知识推理已启用
2025-12-06 16:10:32 - core.chatbot - INFO - 知识推理已启用
2025-12-06 16:19:04 - core.chatbot - INFO - 知识推理已启用
2025-12-06 16:46:15 - core.chatbot - INFO - 知识推理已启用
2025-12-06 16:53:44 - core.chatbot - INFO - 知识推理已启用
2025-12-06 17:02:17 - core.chatbot - INFO - 知识推理已启用
2025-12-06 17:17:52 - core.chatbot - WARNING - reasoner.execute_reasoning 报错，降级为规则查询: [Statement.SyntaxError] Type mismatch: expected Path but was Boolean, Float, Integer, Number, Point, String, Duration, Date, Time, LocalTime, LocalDateTime, DateTime, Vector, List<Boolean>, List<Float>, List<Integer>, List<Number>, List<Point>, List<String>, List<Duration>, List<Date>, List<Time>, List<LocalTime>, List<LocalDateTime> or List<DateTime> (line 7, column 25 (offset: 197))
"            ABS(LENGTH(d.name) - LENGTH($disease)),"
                         ^
2025-12-06 17:48:54 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 17:53:06 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 17:57:43 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 18:02:35 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 18:15:28 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 18:20:11 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 18:47:05 - core.chatbot - WARNING - reasoner.execute_reasoning 报错，降级为规则查询: [Statement.SyntaxError] Type mismatch: expected Path but was Boolean, Float, Integer, Number, Point, String, Duration, Date, Time, LocalTime, LocalDateTime, DateTime, Vector, List<Boolean>, List<Float>, List<Integer>, List<Number>, List<Point>, List<String>, List<Duration>, List<Date>, List<Time>, List<LocalTime>, List<LocalDateTime> or List<DateTime> (line 7, column 25 (offset: 197))
"            ABS(LENGTH(d.name) - LENGTH($disease)),"
                         ^
2025-12-06 18:53:30 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 18:56:24 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 18:56:29 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-06 18:57:05 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-09 15:44:31 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-09 15:51:47 - advanced.llm_client - ERROR - API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 15:51:47 - advanced.llm_chatbot - ERROR - LLM调用失败: API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 15:52:41 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-09 15:52:47 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-09 15:52:57 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-09 15:53:36 - advanced.llm_client - ERROR - API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 15:53:36 - advanced.llm_chatbot - ERROR - LLM调用失败: API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 15:54:37 - advanced.llm_client - ERROR - API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 15:54:37 - advanced.llm_chatbot - ERROR - LLM调用失败: API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 16:00:55 - advanced.llm_client - ERROR - API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 16:00:55 - advanced.llm_chatbot - ERROR - LLM调用失败: API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 16:05:15 - advanced.llm_client - ERROR - API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 16:05:15 - advanced.llm_chatbot - ERROR - LLM调用失败: API请求失败: HTTPSConnectionPool(host='api.deepseek.com', port=443): Read timed out.
2025-12-09 16:10:17 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-09 20:19:06 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
2025-12-10 13:18:05 - advanced.llm_client - INFO - Deepseek客户端已初始化，API URL: https://api.deepseek.com/v1, 模型: deepseek-chat
